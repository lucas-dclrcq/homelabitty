apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaConnector
metadata:
  name: mqtt-source-connector
  labels:
    strimzi.io/cluster: hoohoot-connect
spec:
  class: io.lenses.streamreactor.connect.mqtt.source.MqttSourceConnector
  config:
    key.converter.schemas.enable: false
    key.converter: org.apache.kafka.connect.json.JSONConverter
    value.converter.schemas.enable: false
    value.converter: org.apache.kafka.connect.json.JSONConverter
    connect.mqtt.connection.clean: true
    connect.mqtt.connection.timeout: 1000
    connect.mqtt.client.id: kafkasource
    connect.mqtt.hosts: tcp://emqx-listeners.infrastructure.svc.cluster.local:1883
    connect.mqtt.username: kafkaconnect
    connect.mqtt.password: kafkaconnect
    connect.mqtt.service.quality: 1
    connect.mqtt.kcql: INSERT INTO zigbee2mqtt SELECT * FROM zigbee2mqtt/+ WITHCONVERTER=`io.lenses.streamreactor.connect.converters.source.JsonSimpleConverter`
    connect.progress.enabled: true
